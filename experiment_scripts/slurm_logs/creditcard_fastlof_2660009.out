========================================================================
Job Information
========================================================================
Job ID: 2660009
Job Name: fastlof_creditcard
Node: uc3n063.localdomain
Started at: Mon Dec 22 04:57:25 PM CET 2025
CPUs allocated: 24
Memory allocated: 64G
Partition: cpu
Thread limit: 5
========================================================================

Working directory: /pfs/data6/home/hu/hu_hu/hu_abdeal01/Final-FastLOF

========================================================================
Environment Information
========================================================================
Python 3.9.18

matplotlib                    3.9.4
numpy                         2.0.2
pandas                        2.3.3
scikit-learn                  1.6.1
========================================================================

========================================================================
Starting Experiment: creditcard - FastLOF
========================================================================


================================================================================
FastLOF Experiment - creditcard
================================================================================

Loading dataset: data/creditcard.csv (fraction=1)

--- Dataset preview (first 5 rows) ---
   Time        V1        V2        V3  ...       V27       V28  Amount  Class
0     0 -1.359807 -0.072781  2.536347  ...  0.133558 -0.021053  149.62      0
1     0  1.191857  0.266151  0.166480  ... -0.008983  0.014724    2.69      0
2     1 -1.358354 -1.340163  1.773209  ... -0.055353 -0.059752  378.66      0
3     1 -0.966272 -0.185226  1.792993  ...  0.062723  0.061458  123.50      0
4     2 -1.158233  0.877737  1.548718  ...  0.219422  0.215153   69.99      0

[5 rows x 31 columns]
--------------------------------------
Dataset shape: (284807, 30)
Number of anomalies: 492 (0.17%)

Testing thresholds: [1.1, 1.2]

--------------------------------------------------------------------------------
Running with threshold = 1.1
--------------------------------------------------------------------------------


=== Experiment B: FastLOF Speed & Scalability ===
Using contamination parameter: 0.0017
Testing k values: [10, 20, 30, 40, 50]
Chunk sizes: 10000 to 500 (step=500)

--- Running baseline LOF ---
Skipping algorithms: ball_tree, kd_tree
  k=10 (brute)... 55.0292s
  k=20 (brute)... 58.0875s
  k=30 (brute)... 61.3543s
  k=40 (brute)... 64.0701s
  k=50 (brute)... 67.1728s

Baseline algorithms:
  LOF brute (averaged): 61.1428s

Using LOF brute as reference for FastLOF comparisons

Testing chunk sizes: [10000, 9500, 9000, 8500, 8000, 7500, 7000, 6500, 6000, 5500, 5000, 4500, 4000, 3500, 3000, 2500, 2000, 1500, 1000, 500]

--- Running FastLOF ---
Chunk size 10000:
  k=10... 19.0615s
  k=20... 17.7806s
  k=30... 17.7700s
  k=40... 18.2952s
  k=50... 18.9100s
  Averaged: 18.3635s, corr=0.0005
Chunk size 9500:
  k=10... 17.6497s
  k=20... 17.2728s
  k=30... 17.5863s
  k=40... 17.7963s
  k=50... 18.2289s
  Averaged: 17.7068s, corr=0.0007
Chunk size 9000:
  k=10... 17.2261s
  k=20... 17.0077s
  k=30... 17.3781s
  k=40... 17.7800s
  k=50... 17.7761s
  Averaged: 17.4336s, corr=0.0005
Chunk size 8500:
  k=10... 16.8822s
  k=20... 16.6508s
  k=30...