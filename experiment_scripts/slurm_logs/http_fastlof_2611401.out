========================================================================
Job Information
========================================================================
Job ID: 2611401
Job Name: fastlof_http
Node: uc3n062.localdomain
Started at: Mon Dec 15 10:55:29 PM CET 2025
CPUs allocated: 20
Memory allocated: 48G
Partition: cpu
Thread limit: 5
========================================================================

Working directory: /pfs/data6/home/hu/hu_hu/hu_abdeal01/Final-FastLOF

========================================================================
Environment Information
========================================================================
Python 3.9.18

matplotlib                    3.9.4
numpy                         2.0.2
pandas                        2.3.3
scikit-learn                  1.6.1
========================================================================

========================================================================
Starting Experiment: http - FastLOF
========================================================================


================================================================================
FastLOF Experiment - http
================================================================================

Loading dataset: data/http.mat

--- Dataset preview (first 5 rows) [from .mat X using h5py] ---
         f0        f1         f2
0 -2.302585  5.371103  10.716107
1 -2.302585  5.088213   8.418058
2 -2.302585  5.464255   7.113224
3 -2.302585  5.451468   7.616825
4 -2.302585  5.476882   6.186414
--------------------------------------
Dataset shape: (567498, 3)
Number of anomalies: 2211 (0.39%)

Testing thresholds: [1.1]

--------------------------------------------------------------------------------
Running with threshold = 1.1
--------------------------------------------------------------------------------


=== Experiment B: FastLOF Speed & Scalability ===
Using contamination parameter: 0.0039
Testing k values: [10, 20, 30, 40, 50]
Chunk sizes: 10000 to 500 (step=500)

--- Running baseline LOF ---
  k=10 (ball_tree)... 55.5749s (kd_tree)... 5.9731s (brute)... 139.6004s
  k=20 (ball_tree)... 71.6344s (kd_tree)... 6.9424s (brute)... 140.0985s
  k=30 (ball_tree)... 86.1923s (kd_tree)... 8.0851s (brute)... 140.6199s
  k=40 (ball_tree)... 100.1811s (kd_tree)... 9.2101s (brute)... 141.5812s
  k=50 (ball_tree)... 111.1427s (kd_tree)... 10.5609s (brute)... 142.0295s

Baseline algorithms:
  LOF ball_tree (averaged): 84.9451s
  LOF kd_tree (averaged): 8.1543s
  LOF brute (averaged): 140.7859s

Using LOF brute as reference for FastLOF comparisons

Testing chunk sizes: [10000, 9500, 9000, 8500, 8000, 7500, 7000, 6500, 6000, 5500, 5000, 4500, 4000, 3500, 3000, 2500, 2000, 1500, 1000, 500]

--- Running FastLOF ---
Chunk size 10000:
  k=10... 14.5340s
  k=20... 12.3428s
  k=30... 14.2970s
  k=40... 16.6750s
  k=50... 17.9129s
  Averaged: 15.1523s, corr=0.9482
Chunk size 9500:
  k=10... 13.0007s
  k=20... 12.8377s
  k=30... 15.4505s
  k=40... 16.5396s
  k=50... 18.9046s
  Averaged: 15.3466s, corr=0.9799
Chunk size 9000:
  k=10... 12.5455s
  k=20... 13.1159s
  k=30... 15.8817s
  k=40... 16.9743s
  k=50... 20.0971s
  Averaged: 15.7229s, corr=0.9843
Chunk size 8500:
  k=10... 12.7024s
  k=20... 13.9505s
  k=30... 16.0038s
  k=40... 18.3232s
  k=50... 19.8326s
  Averaged: 16.1625s, corr=0.9742
Chunk size 8000:
  k=10... 13.2527s
  k=20... 18.0440s
  k=30... 17.4008s
  k=40... 17.5260s
  k=50... 20.5429s
  Averaged: 17.3533s, corr=0.9752
Chunk size 7500:
  k=10... 21.3398s
  k=20... 13.2223s
  k=30... 15.7652s
  k=40... 18.3391s
  k=50... 20.8369s
  Averaged: 17.9006s, corr=0.9714
Chunk size 7000:
  k=10... 12.6064s
  k=20... 13.8010s
  k=30... 16.4049s
  k=40... 18.9656s
  k=50... 21.6510s
  Averaged: 16.6858s, corr=0.9754
Chunk size 6500:
  k=10... 12.8499s
  k=20... 18.3074s
  k=30... 17.8408s
  k=40... 19.6202s
  k=50... 22.3099s
  Averaged: 18.1856s, corr=0.9572
Chunk size 6000:
  k=10... 12.9441s
  k=20... 16.2908s
  k=30... 19.7661s
  k=40... 21.4176s
  k=50... 24.6009s
  Averaged: 19.0039s, corr=0.9773
Chunk size 5500:
  k=10... 13.6951s
  k=20... 15.9909s
  k=30... 18.7977s
  k=40... 22.2325s
  k=50... 25.6628s
  Averaged: 19.2758s, corr=0.9697
Chunk size 5000:
  k=10... 13.9756s
  k=20... 16.5887s
  k=30... 19.9176s
  k=40... 23.6882s
  k=50... 27.3842s
  Averaged: 20.3109s, corr=0.9631
Chunk size 4500:
  k=10... 15.2331s
  k=20... 17.9835s
  k=30... 21.5384s
  k=40... 26.1555s
  k=50... 29.9243s
  Averaged: 22.1670s, corr=0.9597
Chunk size 4000:
  k=10... 15.8060s
  k=20... 19.0741s
  k=30... 22.9794s
  k=40... 27.9184s
  k=50... 32.6894s
  Averaged: 23.6935s, corr=0.9693
Chunk size 3500:
  k=10... 17.6368s
  k=20... 21.4601s
  k=30... 24.9820s
  k=40... 31.5671s
  k=50... 36.7006s
  Averaged: 26.4693s, corr=0.9579
Chunk size 3000:
  k=10... 19.6191s
  k=20... 24.1073s
  k=30... 29.6814s
  k=40... 35.7841s
  k=50... 41.9627s
  Averaged: 30.2309s, corr=0.9712
Chunk size 2500:
  k=10... 23.1248s
  k=20... 28.0997s
  k=30... 35.4157s
  k=40... 42.1742s
  k=50... 49.2355s
  Averaged: 35.6100s, corr=0.9569
Chunk size 2000:
  k=10... 27.5771s
  k=20... 34.8624s
  k=30... 43.0377s
  k=40... 60.5048s
  k=50... 2713.1482s
  Averaged: 575.8260s, corr=0.9545
Chunk size 1500:
  k=10... 5333.5425s
  k=20... 45.7335s
  k=30... 54.4041s
  k=40... 66.7990s
  k=50...